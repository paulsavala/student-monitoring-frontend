{% extends "layouts/base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}
{% from 'macros.html' import render_pagination_bootstrap4 %}

{% block app_content %}

<div class="container mt-3">

{% if form %}
    {{ form.hidden_tag() }}
    <h1>Courses</h1>
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Monitored</th>
          <th scope="col">Course</th>
          <th scope="col">Auto Email</th>
        </tr>
      </thead>
    <tbody>
    {% for i in range(form.num_courses) %}
        {% set is_monitored = "is_monitored_%s"|format(i) %}
        {% set short_name = "short_name_%s"|format(i) %}
        {% set auto_email = "auto_email_%s"|format(i) %}
        <tr>
            <td>{{ form[is_monitored]() }}</td>
            <td>{{ form[short_name].label }}</td>
            <td>{{ form[auto_email]() }}</td>
        </tr>

    {% endfor %}
    </tbody>
    </table>
    {{ form.submit_changes(class_='btn btn-primary') }} {{ form.refresh_courses(class_='btn btn-secondary') }}
{% endif %}

</div>
{% endblock %}