{% extends "layouts/base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}
{% from 'macros.html' import render_pagination_bootstrap4 %}

{% block app_content %}

<div class="container mt-3">

{% if form %}
    <form action="" method="post" novalidate>
    {{ form.hidden_tag() }}
    <h1 class="mb-2">Courses</h1>
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col" class="col-2 text-center">Monitored</th>
          <th scope="col" class="col-7 ">Course</th>
          <th scope="col" class="col-3 text-center">Auto Email</th>
        </tr>
      </thead>
    <tbody>
    {% for i in range(form.num_courses) %}
        {% set is_monitored = "is_monitored_%s"|format(i) %}
        {% set short_name = "short_name_%s"|format(i) %}
        {% set auto_email = "auto_email_%s"|format(i) %}
        <tr>
            <td class="col-2 text-center">{{ form[is_monitored]() }}</td>
            <td class="col-7 ">{{ form[short_name].label }}</td>
            <td class="col-3 text-center">{{ form[auto_email]() }}</td>
        </tr>
    {% endfor %}
    </tbody>
    </table>
    {{ form.submit_changes(class_='btn btn-primary') }} {{ form.refresh_courses(class_='btn btn-secondary') }}
    </form>
{% endif %}

</div>
{% endblock %}